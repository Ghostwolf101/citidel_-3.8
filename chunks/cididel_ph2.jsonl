{"doc_id": "cididel_ph2", "chunk_id": "cididel_ph2__0", "chunk_text": "Phase 2: VPN + Defense Suite + Alerts\n\n \n\n#!/bin/sh\n\necho \"üõ°Ô∏è Phase 2: Enhanced Defense Suite Deploying...\"\n\n \n\n# Step 1: Install banIP and dependencies\n\nopkg update\n\nopkg install luci-app-banip ipset curl ca-certificates\n\n \n\n/etc/init.d/banip enable\n\n/etc/init.d/banip start\n\n \n\necho \"‚úÖ banIP installed and running.\"\n\n \n\n# Step 2: VPN Kill Switch Setup for Mullvad\n\n \n\nVPN_IF=\"tun0\"  # Change to your Mullvad VPN interface if different (e.g., wg0 for WireGuard)\n\n \n\nFIREWALL_USER=\"/etc/firewall.user\"\n\n \n\n# Append VPN kill switch script to firewall.user\n\ncat <<EOF >> $FIREWALL_USER\n\n \n\n# VPN Kill Switch (added by glinet-defense-suite)\n\nif ! ip a show \"$VPN_IF\" up | grep -q \"inet \"; then\n\n  logger \"[KILL SWITCH] VPN interface $VPN_IF is down ‚Äî blocking WAN\"\n\n  iptables -I FORWARD -o eth0 -j DROP\n\n  iptables -I OUTPUT -o eth0 -j DROP\n\nelse\n\n  logger \"[KILL SWITCH] VPN interface $VPN_IF is UP ‚Äî WAN allowed\"\n\nfi\n\nEOF\n\n \n\necho \"‚úÖ VPN-aware kill switch added to firewall.user.\"", "source_filename": "cididel_ph2.txt", "source_sha256": "f484bc531f1958892e78bec1338a6575bbf1b087a895c2976457765b1ad523f2", "chunk_index": 0, "total_chunks": 1}
